<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sajado 1030 &amp; 1070</title>
  <style>
    :root{
      --bg:#ffffff; --text:#111; --muted:#6b7280; --border:#e5e7eb;
      --card:#fff; --shadow:0 6px 22px rgba(0,0,0,.08);
      --radius:18px; --gap:16px; --container:1200px;
      --accent:#b3261e; --accent-weak:#fff1f0;
      --sidebar-w:330px; --hdr-h:64px; 
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    html,body{margin:0;background:var(--bg);color:var(--text);
      font-family:ui-sans-serif,-apple-system,Segoe UI,Roboto,Helvetica,Arial;line-height:1.5}

    /* Header */
    header{
      position:sticky; top:0; z-index:20; background:var(--bg);
      border-bottom:1px solid var(--border);
      transition:transform .28s ease, box-shadow .28s ease;
      will-change: transform;
      min-height: var(--hdr-h);
      display:flex; align-items:center;
    }
    header.is-hidden{ transform: translateY(calc(-1 * var(--hdr-h))); box-shadow:none; }

    header .container{
      max-width:var(--container);
      margin:0 auto;
      padding:8px 10px;       
      display:grid;
      grid-template-columns: 44px 1fr 44px;
      align-items:center;
      gap:12px;
    }

    /* Hamburger links */
    .hamburger{
      width:44px;height:44px;
      display:grid;place-items:center;
      cursor:pointer;border-radius:12px;
      transition: background .2s ease, transform .2s ease;
      user-select:none; -webkit-tap-highlight-color:transparent;
    }
    .hamburger:hover{ background:#f7f7f7 }
    .ham-lines{ width:26px; height:18px; position:relative; }
    .ham-lines span{
      position:absolute; left:0; right:0; height:3px; background:#111; border-radius:3px;
      transition: transform .28s ease, opacity .2s ease, top .28s ease;
    }
    .ham-lines span:nth-child(1){ top:0 }
    .ham-lines span:nth-child(2){ top:7.5px }
    .ham-lines span:nth-child(3){ top:15px }
    .hamburger.is-open .ham-lines span:nth-child(1){ top:7.5px; transform: rotate(45deg) }
    .hamburger.is-open .ham-lines span:nth-child(2){ opacity:0 }
    .hamburger.is-open .ham-lines span:nth-child(3){ top:7.5px; transform: rotate(-45deg) }

    .logo{display:flex;align-items:center;gap:12px;justify-self:center}
    .logo img{height:64px;width:auto; transition: transform .2s ease}
    .logo img:active{ transform: scale(.98) }
    @media (min-width:1100px){ .logo img{height:52px} }
    .logo h1{
      font-size:clamp(16px,2vw,20px);
      margin:0;font-weight:800;letter-spacing:.2px;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis; 
    }

    .hdr-spacer{ width:44px; height:44px }

    main{max-width:var(--container);margin:0 auto;padding:16px}
    section{padding:24px 0;scroll-margin-top:86px}
    h2{margin:0 0 12px;font-size:clamp(18px,2.2vw,24px);font-weight:800;letter-spacing:.2px}

    .grid{display:grid;gap:var(--gap);grid-template-columns:repeat(auto-fill,minmax(200px,1fr));align-items:start}
    @media (min-width:620px){ .grid{grid-template-columns:repeat(auto-fill,minmax(240px,1fr))} }
    .card{
      background:var(--card); border:2px solid #f1f1f1; border-radius:var(--radius);
      overflow:hidden; box-shadow:var(--shadow);
      transition:transform .18s ease,box-shadow .18s ease,border-color .18s ease;
      display:flex; align-items:center; justify-content:center; padding:10px;
    }
    .card:hover{ transform:translateY(-2px); border-color:var(--accent-weak); box-shadow:0 10px 26px rgba(0,0,0,.1) }
    .card img{ display:block; width:100%; height:auto; max-height:420px; object-fit:contain; background:#fff; border-radius:12px }
    @media (min-width:900px){ .card img{ max-height:500px } }
    .empty{ color:var(--muted); background:#fafafa; border:1px dashed var(--border); border-radius:12px; padding:14px; text-align:center; grid-column:1/-1 }

    /* Sidebar – Mobile Overlay */
    .sidebar-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.35); display:none; z-index:30; opacity:0; transition: opacity .22s ease }
    .open-backdrop{ display:block; opacity:1 }
    .sidebar{
      position:fixed; inset:0 auto 0 0; width:var(--sidebar-w); max-width:88vw;
      background:#fff; border-right:1px solid var(--border);
      transform:translateX(-100%); transition:transform .28s cubic-bezier(.22,.61,.36,1), box-shadow .28s ease;
      z-index:40; display:flex; flex-direction:column; box-shadow:10px 0 28px rgba(0,0,0,.06);
    }
    .sidebar.open{ transform:translateX(0) }
    .sidebar-header{ padding:16px; border-bottom:1px solid var(--border); display:flex; align-items:center; gap:12px;
      background:linear-gradient(0deg,#fff 0%,#fff 45%,var(--accent-weak) 45%,var(--accent-weak) 100%) }
    .sidebar-header img{ height:40px }
    .sidebar-header .brand{ font-weight:800; font-size:16px; letter-spacing:.3px }

    .cat-list{ padding:10px; overflow:auto }
    .cat-list a{
      display:block; padding:14px 14px; margin:8px 0; text-decoration:none; color:#111; border:1px solid var(--border);
      border-radius:12px; background:#fff; font-weight:600;
      transform: translateX(-6px); opacity: 0; animation: itemIn .35s ease forwards;
    }
    .cat-list a:nth-child(1){ animation-delay:.02s } .cat-list a:nth-child(2){ animation-delay:.04s }
    .cat-list a:nth-child(3){ animation-delay:.06s } .cat-list a:nth-child(4){ animation-delay:.08s }
    .cat-list a:nth-child(5){ animation-delay:.10s } .cat-list a:nth-child(6){ animation-delay:.12s }
    .cat-list a:nth-child(7){ animation-delay:.14s } .cat-list a:nth-child(8){ animation-delay:.16s }
    .cat-list a:nth-child(9){ animation-delay:.18s } .cat-list a:nth-child(10){ animation-delay:.20s }
    .cat-list a:nth-child(11){ animation-delay:.22s } .cat-list a:nth-child(12){ animation-delay:.24s }
    .cat-list a:hover{ background:var(--accent-weak); border-color:#ffd9d6 }
    .cat-list a.active{ background:var(--accent); color:#fff; border-color:var(--accent) }

    @keyframes itemIn{ to{ transform:translateX(0); opacity:1 } }

    .footer{ border-top:1px solid var(--border); padding:22px 16px; text-align:center; color:var(--muted) }

    @media (min-width:1100px){
      body{
        display:grid;
        grid-template-columns: var(--sidebar-w) 1fr;
        grid-template-rows: auto 1fr;
        grid-template-areas:
          "side header"
          "side main";
        align-items:start;
      }
      .sidebar{ grid-area: side; position: sticky; top: 0; height: 100vh; transform:none; box-shadow:none }
      header{ grid-area: header; position:sticky; top:0 }
      main{ grid-area: main; max-width: unset; padding: 18px 24px }
      .sidebar-backdrop{ display:none !important }
      /* auf Desktop: Burger ausblenden */
      .hamburger{ display:none }
    }
    @media (prefers-reduced-motion: reduce){
      *{ animation-duration: .001ms !important; animation-iteration-count: 1 !important; transition-duration: 0ms !important; scroll-behavior: auto !important }
    }
  </style>
</head>
<body>
  <div class="sidebar-backdrop" id="sidebarBackdrop"></div>
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <img src="assets/logo.png" alt="Logo" onerror="this.style.display='none'">
      <div class="brand">Kategorien / Categories</div>
    </div>
    <nav class="cat-list" id="catList">
      <a href="#vorspeisenappetizers">Vorspeisen / Appetizers</a>
      <a href="#nigiri-sushi">Nigiri - Sushi</a>
      <a href="#single-luxury-plates">Single & Luxury Plates</a>
      <a href="#signature-rolls">Signature Rolls</a>
      <a href="#sashimi">Sashimi</a>
      <a href="#hot-rolls-sushi-burger">Hot Rolls & Sushi Burger</a>
      <a href="#classic-rolls">Classic Rolls</a>
      <a href="#signature-dishes">Signature Dishes</a>
      <a href="#wok">Wok</a>
      <a href="#spicy-korean">Spicy Korean</a>
      <a href="#thai-rotcurrythai-redcurry">Thai Rotcurry / Thai Redcurry</a>
      <a href="#ramenudon">Ramen / Udon</a>
      <a href="#fried-ricenoodles">Fried Rice / Noodles</a>
      <a href="#dessert">Dessert</a>
    </nav>
  </aside>

  <header id="siteHeader">
    <div class="container">
      <div class="hamburger" id="hamburger" aria-label="Menü öffnen" aria-controls="sidebar" aria-expanded="false">
        <div class="ham-lines"><span></span><span></span><span></span></div>
      </div>
      <div class="logo">
        <img src="assets/logo.png" alt="Logo">
        <h1>Sajado 1030 &amp; 1070</h1>
      </div>

      <div class="hdr-spacer" aria-hidden="true"></div>
    </div>
  </header>

  <main>
    <section id="vorspeisenappetizers"><h2>Vorspeisen / Appetizers</h2><div class="grid" data-category="vorspeisenappetizers"></div></section>
    <section id="nigiri-sushi"><h2>Nigiri - Sushi</h2><div class="grid" data-category="nigiri-sushi"></div></section>
    <section id="single-luxury-plates"><h2>Single & Luxury Plates</h2><div class="grid" data-category="single-luxury-plates"></div></section>
    <section id="signature-rolls"><h2>Signature Rolls</h2><div class="grid" data-category="signature-rolls"></div></section>
    <section id="sashimi"><h2>Sashimi</h2><div class="grid" data-category="sashimi"></div></section>
    <section id="hot-rolls-sushi-burger"><h2>Hot Rolls & Sushi Burger</h2><div class="grid" data-category="hot-rolls-sushi-burger"></div></section>
    <section id="classic-rolls"><h2>Classic Rolls</h2><div class="grid" data-category="classic-rolls"></div></section>
    <section id="signature-dishes"><h2>Signature Dishes</h2><div class="grid" data-category="signature-dishes"></div></section>
    <section id="wok"><h2>Wok</h2><div class="grid" data-category="wok"></div></section>
    <section id="spicy-korean"><h2>Spicy Korean</h2><div class="grid" data-category="spicy-korean"></div></section>
    <section id="thai-rotcurrythai-redcurry"><h2>Thai Rotcurry / Thai Redcurry</h2><div class="grid" data-category="thai-rotcurrythai-redcurry"></div></section>
    <section id="ramenudon"><h2>Ramen / Udon</h2><div class="grid" data-category="ramenudon"></div></section>
    <section id="fried-ricenoodles"><h2>Fried Rice / Noodles</h2><div class="grid" data-category="fried-ricenoodles"></div></section>
    <section id="dessert"><h2>Dessert</h2><div class="grid" data-category="dessert"></div></section>
  </main>

  <div class="footer">© <span id="year"></span> — Alle Rechte vorbehalten.</div>

  <script>
    var CATEGORIES = [
      "vorspeisenappetizers","nigiri-sushi","single-luxury-plates","signature-rolls","sashimi",
      "hot-rolls-sushi-burger","classic-rolls","signature-dishes","wok","spicy-korean",
      "thai-rotcurrythai-redcurry","ramenudon","fried-ricenoodles","dessert"
    ];

    function loadManifest(slug){
      var url = "image/" + slug + "/manifest.json";
      return fetch(url, { cache: "no-store" })
        .then(function(res){ if(!res.ok) return null; return res.json(); })
        .then(function(data){ return data && Array.isArray(data.images) ? data.images : null; })
        .catch(function(){ return null; });
    }

    function addCard(grid, src){
      var c = document.createElement("div");
      c.className = "card";
      var img = document.createElement("img");
      img.loading = "lazy";
      img.decoding = "async";
      img.src = src;
      img.alt = "";
      c.appendChild(img);
      grid.appendChild(c);
    }
    function setupSidebarLinks(){
      var links = document.querySelectorAll(".cat-list a");
      for (var i=0;i<links.length;i++){
        (function(a){
          a.addEventListener("click", function(e){
            e.preventDefault();
            var id = a.getAttribute("href").slice(1);
            var target = document.getElementById(id);
            if(target){
              var y = target.getBoundingClientRect().top + window.pageYOffset - 80;
              window.scrollTo({ top: y, behavior: "smooth" });
            }
            closeSidebar();
            for (var j=0;j<links.length;j++) links[j].classList.remove("active");
            a.classList.add("active");
          });
        })(links[i]);
      }
    }

    function observeSections(){
      if (!("IntersectionObserver" in window)) return;
      var items = Array.prototype.slice.call(document.querySelectorAll(".cat-list a"));
      var map = {};
      items.forEach(function(a){ map[a.getAttribute("href").slice(1)] = a; });
      var io = new IntersectionObserver(function(entries){
        entries.forEach(function(e){
          if(e.isIntersecting){
            items.forEach(function(i){ i.classList.remove("active"); });
            var link = map[e.target.id];
            if(link) link.classList.add("active");
          }
        });
      }, { rootMargin: "-40% 0px -55% 0px", threshold: 0 });
      var secs = document.querySelectorAll("main > section");
      for (var k=0;k<secs.length;k++) io.observe(secs[k]);
    }

    function setupHeaderAutoHide(){
      var header = document.getElementById('siteHeader');
      var lastY = window.pageYOffset || document.documentElement.scrollTop;
      var ticking = false;

      function onScroll(){
        var y = window.pageYOffset || document.documentElement.scrollTop;
        if (ticking) return;
        window.requestAnimationFrame(function(){
          var isDesktop = window.matchMedia("(min-width:1100px)").matches;
          if (!isDesktop){
            if (y > lastY && y > 30){ header.classList.add("is-hidden"); }
            else { header.classList.remove("is-hidden"); }
          } else {
            header.classList.remove("is-hidden");
          }
          lastY = y;
          ticking = false;
        });
        ticking = true;
      }
      window.addEventListener('scroll', onScroll, { passive:true });
    }

    function init(){
      document.getElementById("year").textContent = new Date().getFullYear();
      (function fillAll(idx){
        if (idx >= CATEGORIES.length) { setupSidebarLinks(); observeSections(); setupHeaderAutoHide(); return; }
        var slug = CATEGORIES[idx];
        var grid = document.querySelector('.grid[data-category="'+slug+'"]');
        loadManifest(slug).then(function(files){
          if(!files || !files.length){
            grid.innerHTML = '<div class="empty">Keine Bilder gefunden oder manifest.json fehlt.</div>';
          }else{
            for (var i=0;i<files.length;i++){
              addCard(grid, "image/" + slug + "/" + files[i]);
            }
          }
          fillAll(idx+1);
        });
      })(0);
    }

    var sidebar  = document.getElementById('sidebar');
    var backdrop = document.getElementById('sidebarBackdrop');
    var burger   = document.getElementById('hamburger');
    function openSidebar(){
      sidebar.classList.add('open'); backdrop.classList.add('open-backdrop');
      if (burger){ burger.classList.add('is-open'); burger.setAttribute('aria-expanded','true'); }
    }
    function closeSidebar(){
      sidebar.classList.remove('open'); backdrop.classList.remove('open-backdrop');
      if (burger){ burger.classList.remove('is-open'); burger.setAttribute('aria-expanded','false'); }
    }
    if (burger) burger.addEventListener('click', function(){ sidebar.classList.contains('open') ? closeSidebar() : openSidebar(); });
    if (backdrop) backdrop.addEventListener('click', closeSidebar);

    init();
  </script>
</body>
</html>
